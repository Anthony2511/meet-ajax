;(function(){'use strict';var $form=void 0,$tplErrorMessage=void 0,$tplBuddy=void 0,$buddiesContainer=void 0;var fHandlSubmit=function fHandlSubmit(oEvent){var $nameInput=$form.find('input[name="name"]'),$descriptionTextarea=$form.find('textarea[name="description"]'),sName=void 0,sDescription=void 0,bHasErrors=false;oEvent.preventDefault();$form.find(".has-error").removeClass("has-error");$form.find(".alert.alert-danger").remove();sName=($nameInput.val()||"").trim();sDescription=($descriptionTextarea.val()||"").trim();console.log("name:",sName);console.log("description:",sDescription);if(!sName){bHasErrors=true;$nameInput.parent().addClass("has-error");}if(!sDescription){bHasErrors=true;$descriptionTextarea.parent().addClass("has-error");}if(bHasErrors){$form.find("fieldset").prepend($tplErrorMessage.clone());return console.error("Form has errors");}$.ajax($form.attr("action"),{"method":"POST","dataType":"json","data":{"name":sName,"description":sDescription},"error":function error(oXHR,sStatus,sError){console.error(sStatus,sError);},"success":function success(_ref){var description=_ref.description,avatar=_ref.avatar,alt=_ref.alt,name=_ref.name;var $buddy=$tplBuddy.clone();$buddy.find(".thumbnail").attr("title",description).find("img").attr("src",avatar).attr("alt",alt).end().find("strong").text(name);$buddiesContainer.append($buddy);$form[0].reset();}});};var fHandleCleanBuddies=function fHandleCleanBuddies(oEvent){oEvent.preventDefault();$.get($(this).attr("href"));$buddiesContainer.empty();};$(function(){($form=$("form")).on("submit",fHandlSubmit);$tplErrorMessage=$($("#form-error-message").html());$tplBuddy=$($("#buddy-element").html());$buddiesContainer=$("#buddies-container");$("#clean-buddies").on("click",fHandleCleanBuddies);});})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkZm9ybSIsIiR0cGxFcnJvck1lc3NhZ2UiLCIkdHBsQnVkZHkiLCIkYnVkZGllc0NvbnRhaW5lciIsImZIYW5kbFN1Ym1pdCIsIm9FdmVudCIsIiRuYW1lSW5wdXQiLCJmaW5kIiwiJGRlc2NyaXB0aW9uVGV4dGFyZWEiLCJzTmFtZSIsInNEZXNjcmlwdGlvbiIsImJIYXNFcnJvcnMiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwidmFsIiwidHJpbSIsImNvbnNvbGUiLCJsb2ciLCJwYXJlbnQiLCJhZGRDbGFzcyIsInByZXBlbmQiLCJjbG9uZSIsImVycm9yIiwiJCIsImFqYXgiLCJhdHRyIiwib1hIUiIsInNTdGF0dXMiLCJzRXJyb3IiLCJkZXNjcmlwdGlvbiIsImF2YXRhciIsImFsdCIsIm5hbWUiLCIkYnVkZHkiLCJlbmQiLCJ0ZXh0IiwiYXBwZW5kIiwicmVzZXQiLCJmSGFuZGxlQ2xlYW5CdWRkaWVzIiwiZ2V0IiwiZW1wdHkiLCJvbiIsImh0bWwiXSwibWFwcGluZ3MiOiIwQkFRQSxHQUFJQSxhQUFKLENBQ0lDLHVCQURKLENBRUlDLGdCQUZKLENBR0lDLHdCQUhKLENBS0EsR0FBTUMsY0FBZSxRQUFmQSxhQUFlLENBQVVDLE1BQVYsQ0FBbUIsQ0FDdEMsR0FBSUMsWUFBYU4sTUFBTU8sSUFBTixDQUFZLG9CQUFaLENBQWpCLENBQ0lDLHFCQUF1QlIsTUFBTU8sSUFBTixDQUFZLDhCQUFaLENBRDNCLENBRUlFLFlBRkosQ0FHSUMsbUJBSEosQ0FJSUMsV0FBYSxLQUpqQixDQU1BTixPQUFPTyxjQUFQLEdBRUFaLE1BQU1PLElBQU4sQ0FBWSxZQUFaLEVBQTJCTSxXQUEzQixDQUF3QyxXQUF4QyxFQUNBYixNQUFNTyxJQUFOLENBQVkscUJBQVosRUFBb0NPLE1BQXBDLEdBSUFMLE1BQVEsQ0FBRUgsV0FBV1MsR0FBWCxJQUFvQixFQUF0QixFQUEyQkMsSUFBM0IsRUFBUixDQUNBTixhQUFlLENBQUVGLHFCQUFxQk8sR0FBckIsSUFBOEIsRUFBaEMsRUFBcUNDLElBQXJDLEVBQWYsQ0FFQUMsUUFBUUMsR0FBUixDQUFhLE9BQWIsQ0FBc0JULEtBQXRCLEVBQ0FRLFFBQVFDLEdBQVIsQ0FBYSxjQUFiLENBQTZCUixZQUE3QixFQUlBLEdBQUssQ0FBQ0QsS0FBTixDQUFjLENBQ1pFLFdBQWEsSUFBYixDQUNBTCxXQUFXYSxNQUFYLEdBQW9CQyxRQUFwQixDQUE4QixXQUE5QixFQUNELENBRUQsR0FBSyxDQUFDVixZQUFOLENBQXFCLENBQ25CQyxXQUFhLElBQWIsQ0FDQUgscUJBQXFCVyxNQUFyQixHQUE4QkMsUUFBOUIsQ0FBd0MsV0FBeEMsRUFDRCxDQUlELEdBQUtULFVBQUwsQ0FBa0IsQ0FDaEJYLE1BQU1PLElBQU4sQ0FBWSxVQUFaLEVBQXlCYyxPQUF6QixDQUFrQ3BCLGlCQUFpQnFCLEtBQWpCLEVBQWxDLEVBQ0EsTUFBT0wsU0FBUU0sS0FBUixDQUFlLGlCQUFmLENBQVAsQ0FDRCxDQUtEQyxFQUFFQyxJQUFGLENBQVF6QixNQUFNMEIsSUFBTixDQUFZLFFBQVosQ0FBUixDQUFnQyxDQUM5QixTQUFXLE1BRG1CLENBRTlCLFdBQWEsTUFGaUIsQ0FHOUIsT0FBUyxDQUNQLE9BQVNqQixLQURGLENBRVAsY0FBZ0JDLFlBRlQsQ0FIcUIsQ0FPOUIsUUFBVSxlQUFVaUIsSUFBVixDQUFnQkMsT0FBaEIsQ0FBeUJDLE1BQXpCLENBQW1DLENBQzNDWixRQUFRTSxLQUFSLENBQWVLLE9BQWYsQ0FBd0JDLE1BQXhCLEVBQ0QsQ0FUNkIsQ0FVOUIsVUFBWSxzQkFBK0MsSUFBbkNDLFlBQW1DLE1BQW5DQSxXQUFtQyxDQUF0QkMsTUFBc0IsTUFBdEJBLE1BQXNCLENBQWRDLEdBQWMsTUFBZEEsR0FBYyxDQUFUQyxJQUFTLE1BQVRBLElBQVMsQ0FDekQsR0FBSUMsUUFBU2hDLFVBQVVvQixLQUFWLEVBQWIsQ0FFQVksT0FDRzNCLElBREgsQ0FDUyxZQURULEVBRUttQixJQUZMLENBRVcsT0FGWCxDQUVvQkksV0FGcEIsRUFHS3ZCLElBSEwsQ0FHVyxLQUhYLEVBSU9tQixJQUpQLENBSWEsS0FKYixDQUlvQkssTUFKcEIsRUFLT0wsSUFMUCxDQUthLEtBTGIsQ0FLb0JNLEdBTHBCLEVBTU9HLEdBTlAsR0FPSzVCLElBUEwsQ0FPVyxRQVBYLEVBUU82QixJQVJQLENBUWFILElBUmIsRUFVQTlCLGtCQUFrQmtDLE1BQWxCLENBQTBCSCxNQUExQixFQUVBbEMsTUFBTyxDQUFQLEVBQVdzQyxLQUFYLEdBQ0QsQ0ExQjZCLENBQWhDLEVBNEJELENBdEVELENBd0VBLEdBQU1DLHFCQUFzQixRQUF0QkEsb0JBQXNCLENBQVVsQyxNQUFWLENBQW1CLENBQzdDQSxPQUFPTyxjQUFQLEdBQ0FZLEVBQUVnQixHQUFGLENBQU9oQixFQUFHLElBQUgsRUFBVUUsSUFBVixDQUFnQixNQUFoQixDQUFQLEVBQ0F2QixrQkFBa0JzQyxLQUFsQixHQUNELENBSkQsQ0FNQWpCLEVBQUcsVUFBWSxDQUVYLENBQUV4QixNQUFRd0IsRUFBRyxNQUFILENBQVYsRUFBd0JrQixFQUF4QixDQUE0QixRQUE1QixDQUFzQ3RDLFlBQXRDLEVBQ0FILGlCQUFtQnVCLEVBQUdBLEVBQUcscUJBQUgsRUFBMkJtQixJQUEzQixFQUFILENBQW5CLENBQ0F6QyxVQUFZc0IsRUFBR0EsRUFBRyxnQkFBSCxFQUFzQm1CLElBQXRCLEVBQUgsQ0FBWixDQUNBeEMsa0JBQW9CcUIsRUFBRyxvQkFBSCxDQUFwQixDQUNBQSxFQUFHLGdCQUFILEVBQXNCa0IsRUFBdEIsQ0FBMEIsT0FBMUIsQ0FBbUNILG1CQUFuQyxFQUVILENBUkQsRSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBoZXBsLW1taS9tZWV0LWFqYXhcclxuICpcclxuICogL2pzL3NjcmlwdC5qcyAtIERpc2NvdmVyIEFKQVggd2l0aCBqUXVlcnlcclxuICpcclxuICogY29kZWQgYnkgbGVueUBmbGF0TGFuZCFcclxuICogc3RhcnRlZCBhdCAyMC8wMi8yMDE3XHJcbiAqL1xyXG5cclxubGV0ICRmb3JtLFxyXG4gICAgJHRwbEVycm9yTWVzc2FnZSxcclxuICAgICR0cGxCdWRkeSxcclxuICAgICRidWRkaWVzQ29udGFpbmVyO1xyXG5cclxuY29uc3QgZkhhbmRsU3VibWl0ID0gZnVuY3Rpb24oIG9FdmVudCApIHtcclxuICBsZXQgJG5hbWVJbnB1dCA9ICRmb3JtLmZpbmQoICdpbnB1dFtuYW1lPVwibmFtZVwiXScgKSxcclxuICAgICAgJGRlc2NyaXB0aW9uVGV4dGFyZWEgPSAkZm9ybS5maW5kKCAndGV4dGFyZWFbbmFtZT1cImRlc2NyaXB0aW9uXCJdJyApLFxyXG4gICAgICBzTmFtZSxcclxuICAgICAgc0Rlc2NyaXB0aW9uLFxyXG4gICAgICBiSGFzRXJyb3JzID0gZmFsc2U7XHJcblxyXG4gIG9FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAkZm9ybS5maW5kKCBcIi5oYXMtZXJyb3JcIiApLnJlbW92ZUNsYXNzKCBcImhhcy1lcnJvclwiICk7XHJcbiAgJGZvcm0uZmluZCggXCIuYWxlcnQuYWxlcnQtZGFuZ2VyXCIgKS5yZW1vdmUoKTtcclxuXHJcbiAgLy8gMS4gcsOpY3Vww6lyZXIgbGVzIGluZm9zIGRlcyBjaGFtcHMgZGUgZm9ybVxyXG5cclxuICBzTmFtZSA9ICggJG5hbWVJbnB1dC52YWwoKSB8fCBcIlwiICkudHJpbSgpO1xyXG4gIHNEZXNjcmlwdGlvbiA9ICggJGRlc2NyaXB0aW9uVGV4dGFyZWEudmFsKCkgfHwgXCJcIiApLnRyaW0oKTtcclxuXHJcbiAgY29uc29sZS5sb2coIFwibmFtZTpcIiwgc05hbWUgKTtcclxuICBjb25zb2xlLmxvZyggXCJkZXNjcmlwdGlvbjpcIiwgc0Rlc2NyaXB0aW9uICk7XHJcblxyXG4gIC8vIDIuIGxlcyBjaGVja2VyXHJcblxyXG4gIGlmICggIXNOYW1lICkge1xyXG4gICAgYkhhc0Vycm9ycyA9IHRydWU7XHJcbiAgICAkbmFtZUlucHV0LnBhcmVudCgpLmFkZENsYXNzKCBcImhhcy1lcnJvclwiICk7XHJcbiAgfVxyXG5cclxuICBpZiAoICFzRGVzY3JpcHRpb24gKSB7XHJcbiAgICBiSGFzRXJyb3JzID0gdHJ1ZTtcclxuICAgICRkZXNjcmlwdGlvblRleHRhcmVhLnBhcmVudCgpLmFkZENsYXNzKCBcImhhcy1lcnJvclwiICk7XHJcbiAgfVxyXG5cclxuICAvLyAzLiBhZmZpY2hlciBsZXMgZXJyb3JzIHNpIGlsIHkgZW4gYVxyXG5cclxuICBpZiAoIGJIYXNFcnJvcnMgKSB7XHJcbiAgICAkZm9ybS5maW5kKCBcImZpZWxkc2V0XCIgKS5wcmVwZW5kKCAkdHBsRXJyb3JNZXNzYWdlLmNsb25lKCkgKTtcclxuICAgIHJldHVybiBjb25zb2xlLmVycm9yKCBcIkZvcm0gaGFzIGVycm9yc1wiICk7XHJcbiAgfVxyXG5cclxuICAvLyA0LiBwcsOpcGFyZXIgcmVxdWV0ZSBhamF4XHJcbiAgLy8gNS4gZmFpcmUgbGEgcmVxdWV0ZSBBSkFYXHJcblxyXG4gICQuYWpheCggJGZvcm0uYXR0ciggXCJhY3Rpb25cIiApLCB7XHJcbiAgICBcIm1ldGhvZFwiIDogXCJQT1NUXCIsXHJcbiAgICBcImRhdGFUeXBlXCIgOiBcImpzb25cIixcclxuICAgIFwiZGF0YVwiIDoge1xyXG4gICAgICBcIm5hbWVcIiA6IHNOYW1lLFxyXG4gICAgICBcImRlc2NyaXB0aW9uXCIgOiBzRGVzY3JpcHRpb24sXHJcbiAgICB9LFxyXG4gICAgXCJlcnJvclwiIDogZnVuY3Rpb24oIG9YSFIsIHNTdGF0dXMsIHNFcnJvciApICB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoIHNTdGF0dXMsIHNFcnJvciApO1xyXG4gICAgfSxcclxuICAgIFwic3VjY2Vzc1wiIDogZnVuY3Rpb24oIHsgZGVzY3JpcHRpb24sIGF2YXRhciwgYWx0LCBuYW1lIH0gKSB7XHJcbiAgICAgIGxldCAkYnVkZHkgPSAkdHBsQnVkZHkuY2xvbmUoKTtcclxuXHJcbiAgICAgICRidWRkeVxyXG4gICAgICAgIC5maW5kKCBcIi50aHVtYm5haWxcIiApXHJcbiAgICAgICAgICAuYXR0ciggXCJ0aXRsZVwiLCBkZXNjcmlwdGlvbiApXHJcbiAgICAgICAgICAuZmluZCggXCJpbWdcIiApXHJcbiAgICAgICAgICAgIC5hdHRyKCBcInNyY1wiLCBhdmF0YXIgKVxyXG4gICAgICAgICAgICAuYXR0ciggXCJhbHRcIiwgYWx0IClcclxuICAgICAgICAgICAgLmVuZCgpXHJcbiAgICAgICAgICAuZmluZCggXCJzdHJvbmdcIiApXHJcbiAgICAgICAgICAgIC50ZXh0KCBuYW1lICk7XHJcblxyXG4gICAgICAkYnVkZGllc0NvbnRhaW5lci5hcHBlbmQoICRidWRkeSApO1xyXG5cclxuICAgICAgJGZvcm1bIDAgXS5yZXNldCgpOyAvLyBmYWlyZSB1biB0YWJsZWF1IGF2ZWMgMCAsIHBvdXIgcXVlIGxlIHJlc2V0IG1hcmNoZSBzdXIgbGUgRE9NXHJcbiAgICB9LFxyXG4gIH0gKTtcclxufTtcclxuXHJcbmNvbnN0IGZIYW5kbGVDbGVhbkJ1ZGRpZXMgPSBmdW5jdGlvbiggb0V2ZW50ICkge1xyXG4gIG9FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICQuZ2V0KCAkKCB0aGlzICkuYXR0ciggXCJocmVmXCIgKSApO1xyXG4gICRidWRkaWVzQ29udGFpbmVyLmVtcHR5KCk7XHJcbn07XHJcblxyXG4kKCBmdW5jdGlvbiggKSB7XHJcblxyXG4gICAgKCAkZm9ybSA9ICQoIFwiZm9ybVwiICkgKS5vbiggXCJzdWJtaXRcIiwgZkhhbmRsU3VibWl0ICk7XHJcbiAgICAkdHBsRXJyb3JNZXNzYWdlID0gJCggJCggXCIjZm9ybS1lcnJvci1tZXNzYWdlXCIgKS5odG1sKCkgKTtcclxuICAgICR0cGxCdWRkeSA9ICQoICQoIFwiI2J1ZGR5LWVsZW1lbnRcIiApLmh0bWwoKSApO1xyXG4gICAgJGJ1ZGRpZXNDb250YWluZXIgPSAkKCBcIiNidWRkaWVzLWNvbnRhaW5lclwiICk7XHJcbiAgICAkKCBcIiNjbGVhbi1idWRkaWVzXCIgKS5vbiggXCJjbGlja1wiLCBmSGFuZGxlQ2xlYW5CdWRkaWVzICk7XHJcblxyXG59ICk7XHJcbiJdfQ==
